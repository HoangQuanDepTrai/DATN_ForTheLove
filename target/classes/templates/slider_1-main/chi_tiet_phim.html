<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title th:text="${title}">CHI_TIET_PHIM</title>
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztCQT..."
	crossorigin="anonymous">
<script
	src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
	integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
	crossorigin="anonymous"></script>
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css"
	rel="stylesheet">
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
<link rel="stylesheet" href="/slider_1-main/chi_tiet_phim.css">
<!-- <link rel="stylesheet" href="/new/new-new.css"> -->
<link rel="stylesheet" href="/slider_1-main/style.css">
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

</head>


<body>
	<nav class="navbar navbar-expand-lg mb fixed-top">
		<div class="container">
			<a class="navbar-brand" href="#"> <img
				src="/slider_1-main/image/logo-shop.jpg" alt="" width="55"
				height="50" class="d-inline-block align-text-top">
			</a>
			<button class="navbar-toggler" type="button"
				data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
				aria-controls="navbarSupportedContent" aria-expanded="false"
				aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>
			<div class="collapse navbar-collapse" id="navbarSupportedContent">
				<ul class="navbar-nav ms-auto mb-2 mb-lg-0 me-auto">
					<li class="nav-item"><a class="nav-link active"
						aria-current="page" th:href="@{/userIndex}">trang chủ</a></li>
					<li class="nav-item"><a class="nav-link" href="#">phim</a></li>
					<li class="nav-item dropdown"><a
						class="nav-link dropdown-toggle" href="#" id="navbarDropdown"
						role="button" data-bs-toggle="dropdown" aria-expanded="false">
							lịch chiếu </a>
						<ul class="dropdown-menu" aria-labelledby="navbarDropdown">
							<li><a class="dropdown-item" href="#">Phim đang chiếu</a></li>
							<li><a class="dropdown-item" href="#">Phim sắp chiếu</a></li>
							<li><a class="dropdown-item" href="#">Lịch chiếu phim
									hôm nay</a></li>
							<li>
								<hr class="dropdown-divider">
							</li>
							<li><a class="dropdown-item" href="#">Phim hành động</a></li>
							<li><a class="dropdown-item" href="#">Phim kinh dị</a></li>
							<li><a class="dropdown-item" href="#">Phim tình cảm</a></li>
						</ul></li>
				</ul>
				<!-- =========================SEARCH -->

				<div class="InputContainer me-1">
					<input type="text" name="text" class="input" id="input"
						placeholder="Tìm kiếm phim" title="Tìm kiếm" data-toggle="tooltip"
						data-placement="bottom"> <label for="input"
						class="labelforsearch"> <svg viewBox="0 0 512 512"
							class="searchIcon">
                            <path
								d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z">
                            </path>
                        </svg>
					</label>
					<div class="border"></div>

					<button class="micButton" data-bs-toggle="modal"
						data-bs-target="#exVoiSearch">
						<svg viewBox="0 0 384 512" class="micIcon">
                            <path
								d="M192 0C139 0 96 43 96 96V256c0 53 43 96 96 96s96-43 96-96V96c0-53-43-96-96-96zM64 216c0-13.3-10.7-24-24-24s-24 10.7-24 24v40c0 89.1 66.2 162.7 152 174.4V464H120c-13.3 0-24 10.7-24 24s10.7 24 24 24h72 72c13.3 0 24-10.7 24-24s-10.7-24-24-24H216V430.4c85.8-11.7 152-85.3 152-174.4V216c0-13.3-10.7-24-24-24s-24 10.7-24 24v40c0 70.7-57.3 128-128 128s-128-57.3-128-128V216z">
                            </path>
                        </svg>
					</button>

				</div>
				<!-- =========================MODAL MICBUTTON -->
				<!-- =========================MODAL MICBUTTON -->
				<!-- =========================SEARCH -->
				<a class="shadow__btn ms-1"
					href="../slider_1-main/user/user-login.html" title="Đăng nhập"
					data-toggle="tooltip" data-placement="bottom"> <svg height="20"
						width="20" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path
							d="M12 12c2.7 0 5-2.3 5-5s-2.3-5-5-5-5 2.3-5 5 2.3 5 5 5zm0 2c-3.9 0-11 2-11 6v2h22v-2c0-4-7.1-6-11-6z"
							fill="none" stroke="#fff" stroke-width="2" />
                    </svg>
				</a>
			</div>
		</div>
	</nav>
	<!-- Modal -->
	<div class="modal fade mt-5" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog customModal_demo_chiTiet">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="custom-btn-close" data-bs-dismiss="modal" aria-label="Close">
                    <i class="bi bi-x-lg"></i>
                </button>
            </div>
            <div class="modal-body">
                <!-- Hiển thị trailer từ YouTube -->
                <iframe width="560" height="315" id="youtubeVideo"
                    th:src="'https://www.youtube.com/embed/' + ${movie.trailerUrl} + '?autoplay=1'"
                    title="YouTube video player" frameborder="0"
                    allow="accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                    referrerpolicy="strict-origin-when-cross-origin" allowfullscreen>
                </iframe>
            </div>
            <div class="modal-footer">
                <div class="card-datve">
                    <div class="row g-0">
                        <div class="col-md-2">
                            <img th:src="${movie.image}" class="img-fluid rounded-start" alt="Poster phim">
                        </div>
                        <div class="col-md-10">
                            <div class="card-body">
                                <h5 class="card-title"
                                    th:text="${movie.movieName} + ' - ' + ${movie.genre}">
                                    Tên phim - Thể loại</h5>
                                <div class="tieu-de-nho1">
                                    Nội dung
                                    <p id="movieContent" class="mb-0"
                                        th:text="${movie.content.substring(0, 200) + '...'}"></p>
                                    <a id="toggleButton" onclick="toggleContent()">Xem thêm</a>
                                    <p id="fullContent" th:text="${movie.content}" style="display: none;"></p>
                                </div>
                                <button class="button-datve mt-3">Đặt vé</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
	
	

	<!-- MODAL VIDEO -->
	<div class="khung">
		<img th:src="${movie.image_bg}"
			src="https://c.wallhere.com/photos/0d/a6/Marvel_Comics_Marvel_Super_Heroes_looking_at_viewer_digital_art_Iron_Man_superhero_armor_glowing_eyes-2258630.jpg!d"
			alt="" class="hero2">
		<div class="movie-card-big m-0 p-0">
			<div class="container-fluid p-0">
				<button href="" class="cover1" data-bs-toggle="modal"
					data-bs-target="#exampleModal">
					<i class="bi bi-play-fill"></i>
				</button>
				<a href="#" class="custom-img-chititet-phim" data-bs-toggle="modal"
					data-bs-target="#exampleModal"> <img th:src="${movie.image}"
					alt="cover" class="cover custom-img-chititet-phim"
					style="margin-top: 5%;" /></a>
				<div class="hero">
					<div class="details">
						<span class="ghdt" th:text="${movie.ageRestriction}+'+'"></span>
						<div class="title1" th:text="${movie.movieName}"></div>
						<div class="title2" th:text="${movie.genre}">The Battle of the Five Armies</div>
						<!--                         <div class="title2">The Battle of the Five Armies</div>
                        <i class="bi bi-star-fill"></i>
                        <i class="bi bi-star-fill"></i>
                        <i class="bi bi-star-fill"></i>
                        <i class="bi bi-star-fill"></i>
                        <i class="bi bi-star-fill"></i>
                        <span class="likes"><i class="bi bi-hand-thumbs-up-fill"></i> 109</span> -->

					</div>
					<!-- end details -->

				</div>
				<!-- end hero -->

				<div class="description">
					<div class="column2 m-0 ">
						<!-- <span class="tieu-de-nho1"> Nội dung
							<p th:text="${movie.content}"></p> -->
						<div class="tieu-de-nho1">
							Nội dung
							<p id="movieContent2" class="mb-0"
								th:text="${movie.content.substring(0, 200) + '...'}"></p>
							<a id="toggleButton2" onclick="toggleContent()">Xem thêm</a>
							<p id="fullContent2" th:text="${movie.content}"
								style="display: none;"></p>
							<!-- Nội dung đầy đủ -->
						</div>


						<span class="tieu-de-nho1"> Diễn viên
							<p
								th:utext="${#strings.arrayJoin(movie.actor.split('\.'), '.<br>')}"></p>
						</span> <span class="tieu-de-nho">
							<div class="tieu-de-item">
								<span>Thời lượng</span>
								<p th:text="${movie.duration}+' phút'"></p>
							</div>
							<div class="tieu-de-item">
								<span>Thể loại</span>
								<p th:text="${movie.genre}"></p>
							</div>
							<div class="tieu-de-item">
								<span>Đạo diễn</span>
								<p th:text="${movie.director}"></p>
							</div>
							<div class="tieu-de-item">
								<span>Độ tuổi được xem</span>
								<p th:text="${movie.ageRestriction}+'+'"></p>
							</div>
						</span>
					</div>
					<!-- end column2 -->
				</div>
				<!-- end description -->
			</div>
			<!-- end container -->
		</div>
	</div>


	<div class="container mt-5">
		<div class="row">
			<div class="col-lg-8">
				<div class="mb-3">
					<span class="custom_td_col4"> Blog phim </span>
				</div>
				<div class="container custom-container-xem-them ps-0 pe-0">
					<div class="box-container ps-0">
						<div class="box-card">
							<div class="image mb-1">
								<img
									src="https://c.wallhere.com/photos/f3/97/Marvel_Comics_Marvel_Super_Heroes_looking_at_viewer_digital_art_Deadpool_superhero_Marvel_Cinematic_Universe_bodysuit-2258634.jpg!s1"
									alt="">
							</div>
							<span class="span-top-phim"> Top 10 bộ phim hay </span> <br>
							<span class="span-luot-xem"> 2.4K Lượt xem </span>
						</div>
						<div class="box-card">
							<div class="image mb-1">
								<img
									src="https://homepage.momocdn.net/blogscontents/momo-amazone-s3-api-240906104736-638612164561429339.jpg"
									alt="">
							</div>
							<span class="span-top-phim"> Top 10 bộ phim hay </span> <br>
							<span class="span-luot-xem"> 2.4K Lượt xem </span>
						</div>
						<div class="box-card">
							<div class="image mb-1">
								<img
									src="https://homepage.momocdn.net/blogscontents/momo-upload-api-220729104933-637946885733873356.jpg"
									alt="">
							</div>
							<span class="span-top-phim"> Top 10 bộ phim hay </span> <br>
							<span class="span-luot-xem"> 2.4K Lượt xem </span>
						</div>
						<div class="box-card">
							<div class="image mb-1">
								<img
									src="https://homepage.momocdn.net/blogscontents/momo-amazone-s3-api-240718132917-638569061579981196.jpg"
									alt="">
							</div>
							<span class="span-top-phim"> Top 10 bộ phim hay </span> <br>
							<span class="span-luot-xem"> 2.4K Lượt xem </span>
						</div>
						<div class="box-card">
							<div class="image mb-1">
								<img
									src="https://c.wallhere.com/photos/ab/e4/The_Adventures_of_Batman_animation_animated_series_cartoon_Batman_Robin_DC_Comics_Batmobile_superhero-2247268.jpg!s1"
									alt="">
							</div>
							<span class="span-top-phim"> Top 10 bộ phim hay </span> <br>
							<span class="span-luot-xem"> 2.4K Lượt xem </span>
						</div>
						<div class="box-card">
							<div class="image mb-1">
								<img
									src="https://homepage.momocdn.net/blogscontents/momo-upload-api-240405092214-638479057343871358.jpg"
									alt="">
							</div>
							<span class="span-top-phim"> Top 10 bộ phim hay </span> <br>
							<span class="span-luot-xem"> 2.4K Lượt xem </span>
						</div>
						<div class="box-card">
							<div class="image mb-1">
								<img
									src="https://homepage.momocdn.net/blogscontents/momo-upload-api-240405092214-638479057343871358.jpg"
									alt="">
							</div>
							<span class="span-top-phim"> Top 10 bộ phim hay </span> <br>
							<span class="span-luot-xem"> 2.4K Lượt xem </span>
						</div>
						<div class="box-card">
							<div class="image mb-1">
								<img
									src="https://homepage.momocdn.net/blogscontents/momo-upload-api-240405092214-638479057343871358.jpg"
									alt="">
							</div>
							<span class="span-top-phim"> Top 10 bộ phim hay </span> <br>
							<span class="span-luot-xem"> 2.4K Lượt xem </span>
						</div>
						<div class="box-card">
							<div class="image mb-1">
								<img
									src="https://homepage.momocdn.net/blogscontents/momo-upload-api-240405092214-638479057343871358.jpg"
									alt="">
							</div>
							<span class="span-top-phim"> Top 10 bộ phim hay </span> <br>
							<span class="span-luot-xem"> 2.4K Lượt xem </span>
						</div>
						<div class="box-card">
							<div class="image mb-1">
								<img
									src="https://homepage.momocdn.net/blogscontents/momo-upload-api-240405092214-638479057343871358.jpg"
									alt="">
							</div>
							<span class="span-top-phim"> Top 10 bộ phim hay </span> <br>
							<span class="span-luot-xem"> 2.4K Lượt xem </span>
						</div>
						<div class="box-card">
							<div class="image mb-1">
								<img
									src="https://homepage.momocdn.net/blogscontents/momo-upload-api-240405092214-638479057343871358.jpg"
									alt="">
							</div>
							<span class="span-top-phim"> Top 10 bộ phim hay </span> <br>
							<span class="span-luot-xem"> 2.4K Lượt xem </span>
						</div>
					</div>
				</div>

				<div id="load-more" class="mb-5 ms-0">Xem thêm</div>

			</div>
			<div class="col-lg-4" id="movieCardsContainer">
				<div class="mb-3">
					<span class="custom_td_col4">Phim đang chiếu</span>
				</div>
				<div th:each="movieDetail : ${movieDetails}"
					class="card_MovieDetails">
					<div class="movie-card-chi-tiet ms-0 ps-0 mb-1 mt-0">
						<img th:src="${movieDetail.image}" alt=""
							class="movie-poster img-fluid">
						<div class="movie-info">
							<div class="movie-age-rating age-18"
								th:text="${movieDetail.ageRestriction}+'+'">18+</div>
							<div class="movie-title" th:text="${movieDetail.movieName}">CÁM</div>
							<div class="movie-genre" th:text="${movieDetail.genre}">Kinh
								Dị</div>
						</div>
						<a th:href="@{/userIndex/details/{id}(id=${movieDetail.movieId})}"
							class="movieDetails_btn">Đặt vé </a>
						<!-- <a
							class="movieDetails_btn">Đặt vé</a>  -->

					</div>
				</div>
				<button id="loadMoreBtn_cardPhimDangChieu"
					class="btn btn-primary mt-3">Xem thêm</button>
			</div>
			<!-- đóng col-lg-4  -->
		</div>
		<!--đóng row  -->
	</div>
	<!-- đóng container -->





	<!-- FOOTER -->
	<footer class="footer-48201 mt-5">

		<div class="container">
			<div class="row">
				<div class="col-md-1 pr-md-5">
					<a href="#" class="footer-site-logo d-block mb-4"> <img
						src="/slider_1-main/image/logo-shop.jpg" alt="" width="55"
						height="50" class="d-inline-block align-text-top rounded-circle ">
					</a>

				</div>
				<div class="col-md">
					<ul class="list-unstyled nav-links">
						<span class="ft-td-in">Mua vé xem phim</span>
						<br>
						<li class="mb-1"><a th:href="@{/userIndex}" class="nd-ft">Trang
								chủ</a></li>
						<li class="mb-1"><a href="#" class="nd-ft">Phim</a></li>
						<li class="mb-1"><a href="#" class="nd-ft">Lịch chiếu</a></li>
						<li class="mb-1"><a href="#" class="nd-ft">Tài khoản</a></li>
						<li class="mb-1"><a href="#" class="nd-ft">Blog</a></li>
					</ul>
				</div>
				<div class="col-md">
					<ul class="list-unstyled nav-links">
						<li><a href="#">Clients</a></li>
						<li><a href="#">Team</a></li>
						<li><a href="#">Career</a></li>
						<li><a href="#">Testimonials</a></li>
						<li><a href="#">Journal</a></li>
					</ul>
				</div>
				<div class="col-md">
					<ul class="list-unstyled nav-links">
						<span class="ft-td-in">Chăm sóc khách hàng</span>
						<br>
						<p class="td-nho mt-2">
							Địa chỉ: <span class="nd-ft"> Lầu 6, Toà nhà Phú Mỹ Hưng,
								số 8 Hoàng Văn Thái, khu phố 1, Phường Tân Phú, Quận 7, Thành
								phố Hồ Chí Minh </span>
						</p>
						<p class="td-nho">
							Hotline: <span class="nd-ft">0978 610 781 <span
								class="td-nh-nghien">(Phí 1.000đ/phút)</span></span>
						</p>
						<p class="td-nho">
							Email: <span class="nd-ft"> forthelove@gmail.com </span>
						</p>
					</ul>
				</div>
				<div class="col-md text-md-center">
					<span class="custom-span-kn">Kết nối với chúng tôi</span>


				</div>
			</div>

			<div class="row ">
				<div class="col-12 text-center">
					<div class="copyright mt-5 pt-5">
						<p>
							<small style="color: deeppink;">&copy; 2019-2020 All
								Rights Reserved.</small>
						</p>
					</div>
				</div>
			</div>
		</div>

	</footer>
	<!-- FOOTER -->

	<script>

	/*Mờ scrip video auto play  */
	$(document).ready(function() {
	    // Khi modal được hiển thị
	    $('#exampleModal').on('shown.bs.modal', function () {
	        var iframe = $('#youtubeVideo');
	        var currentSrc = iframe.attr('src');

	        // Nếu src không có autoplay, thêm vào
	        if (!currentSrc.includes('autoplay=1')) {
	            iframe.attr('src', currentSrc + '?autoplay=1');
	        }
	    });

	    // Khi modal bị đóng
	    $('#exampleModal').on('hide.bs.modal', function () {
	        // Xóa autoplay để video có thể bắt đầu từ đầu khi mở lại
	        var iframe = $('#youtubeVideo');
	        var currentSrc = iframe.attr('src');
	        // Thay thế 'autoplay=1' với '' để dừng video
	        iframe.attr('src', currentSrc.replace(/([&?])autoplay=1/, '')); // Xóa autoplay
	    });
	});
	/*Đóng scrip video auto play  */

	/*Mờ scrip xem them text  */
	function toggleContent() {
	    const contentElement = document.getElementById('movieContent');
	    const contentElements = document.getElementById('movieContent2');
	    const fullContentElement = document.getElementById('fullContent');
	    const fullContentElements = document.getElementById('fullContent2');
	    const buttonElement = document.getElementById('toggleButton');
	    const buttonElements = document.getElementById('toggleButton2');

	    if (fullContentElement.style.display === "none") {
	        // Hiển thị toàn bộ nội dung
	        contentElement.style.display = "none";
	        contentElements.style.display = "none";
	        fullContentElement.style.display = "block";
	        fullContentElements.style.display = "block";
	        buttonElement.textContent = "Thu gọn";
	        buttonElements.textContent = "Thu gọn";
	    } else {
	        // Hiển thị nội dung ngắn
	        contentElement.style.display = "block";
	        contentElements.style.display = "block";
	        fullContentElement.style.display = "none";
	        fullContentElements.style.display = "none";
	        buttonElement.textContent = "Xem thêm";
	        buttonElements.textContent = "Xem thêm";
	    }
	}
	/*Đóng scrip xem them text  */

	/*Mờ scrip xem them card  */
	 // JavaScript to handle Load More functionality
    const movieCards = document.querySelectorAll('.card_MovieDetails'); // Select all movie cards
    const loadMoreBtn = document.getElementById('loadMoreBtn_cardPhimDangChieu');
    let visibleCards = 5; // Initial visible cards

    // Hide all cards except the first 5
    for (let i = visibleCards; i < movieCards.length; i++) {
        movieCards[i].style.display = 'none';
    }

    // Function to load more cards
    loadMoreBtn.addEventListener('click', function () {
        const newVisibleCards = visibleCards + 2; // Show 2 more cards each time
        for (let i = visibleCards; i < newVisibleCards && i < movieCards.length; i++) {
            movieCards[i].style.display = 'block'; // Show the next 2 hidden cards
        }
        visibleCards = newVisibleCards;

        // Hide the button if all cards are shown
        if (visibleCards >= movieCards.length) {
            loadMoreBtn.style.display = 'none';
        }
    });
	
	document.addEventListener('DOMContentLoaded', () => {
	    let loadMoreBtn = document.querySelector('#load-more');
	    let currentItem = 9; // Number of boxes to display initially
	    let loadMoreAmount = 3; // Number of boxes to display on each button click

	    // Function to display boxes
	    const displayBoxes = (start, count) => {
	        let boxes = [...document.querySelectorAll('.container .box-container .box-card')];
	        for (let i = start; i < start + count; i++) {
	            if (boxes[i]) { // Check if the box exists
	                boxes[i].style.display = 'inline-block';
	            }
	        }
	    }

	    // Display 6 boxes initially
	    displayBoxes(0, currentItem);

	    loadMoreBtn.onclick = () => {
	        let boxes = [...document.querySelectorAll('.container .box-container .box-card')];
	        displayBoxes(currentItem, loadMoreAmount); // Show 3 more boxes
	        currentItem += loadMoreAmount; // Increment the number of displayed boxes

	        if (currentItem >= boxes.length) {
	            loadMoreBtn.style.display = 'none'; // Hide button if no more boxes
	        }
	    }

	   
	});
	/*Đóng scrip xem them card  */

    </script>
	<script type="/slider_1-main/app.js"></script>
</body>

</html>